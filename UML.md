//www.plantuml.com/plantuml/png/pLZDRsCd4B_xhq1xYHrverRgeOgYQ5qdwLgAarNid5OzO3DnK7dW0YzfjEt_NZ2J1yyy_B6LglfavcFc1_Fn1ZuPIxMjAz4x8MD1ZG53D0XgkLmHguYnDNiZlQLdaR6gjG7oZVI8-qbQmJcPMUr40sMvuKyLgmMOSpBIchxTScC3bvlHql8NfxDGIW2LfFTtBx6Ccix-HhpQBCQADKuANWMyW3WdNDhWHXghwwLL-YuHHGHJAXbrhBS6n8P1ZU4hMO6qAUoBKKE-t8Zvmt0BRxSb5rnSnkr4HTnCT31X2QIKaQ6robBnHJc1XO0frR-RiCdEGti0Kmlqreh3UKjiosVGSdO_K_CyfMlSoP1Cf8KLwCsMJiYZ0MrwT66ifajBWdTFH7yd_hyF3E66r9B_KKC8JOtqrhxMJljLQTQEuXFN1iyW9LUSCG4vNT0kQKOjt3_zmhLzTlkc0YIZEacpMGWWmdu3gcFUn3HAapdrWUHgBS026nUI_I8FosNGhBLsphVqSkclF_-saR-us6dpyf9GniPTSFe3DF2YE7Do6bRE2EWRfODO7myjxd5B0wHM0iNHwfRIj2dFp5cbNc2SRxQVRoArrTZ1mdIcbbH-qMgbmPYvkeC_xQsFKN-mNG8ZLd79VNPQXJaPyL36xk0LzxrzefU8m0n9yKXoEmXuhlPR3GHSevFi22F35ylGvs18n-6cC6VGj9XsT_CEyBJItfPhfUt7vEoqhmqAkUVpRGLs94HOcrQIXM0jGHHFXA9YTYXP-gWro7zjXe6lYYFZCrTNNYs7vCDIjXM3MOwuXDSyfwBbM2ITDPzxIPafh-WnK7sSD52BzMTcWg_xxrqHqw2D4NDdqkJTNEt7Yu4w678q4lsakUwq8oEXTxQUA7cZLVM_XPdwyK2FpDKTG0yubVyeXDx4PE_nn7wUyhzrZ9IOsr_VFv3loz2RMc3xWs7sFQ6CVVy7xMX5hBGu2_RtTV_MC8ZVWSeDVlcNo8-3stMxCpmHHUAbwC6JqFh8D2F64Gu7ON3yJ2Lpd2-WZHz0v19w8EkAt72nwNmOvD5iDldrRdfzDvzjrkFxnuVPzVJ-wl7sEg7W_uVhsUDjIt9qDPtSJMRpXz7y_Y4m9dTk-JXkrhFvuvMt7rFDOmZuif7XLNCBdjzlW3xXd-GJBYr8QmObrNUvsbXLtHoeBXHbdOxnH6yT7xJ9hXcUdkoZymg3vaT2H6ByYaSQokLvcquHksUm02T7qo6QmEhWcdpOAsuri3DxtiHUqT4BvO8k16pfe2GAjeTdZ4hNRQoCCGfbI95iDaef1Ntlxp-TZRI89OeaI28nda6aeLma89BceZV8xbf5zyXFV2CbEaO2Ik2gq-N9ZBvqrOKdP-Lj776h2ZeB9dqMs9tlHJUbhDvT4cJPeLD8jVskCQqEcYnpB_ljc_BCqfcGPOljzDitRQNMat6sQ3wHsTESTPJC4xfeFytWFCs9GLx8rod8sfGJgXNXUk6bjrtgMdP8zVDPeVFAUiH8klVAahiitXQE6qqpUSRDMj2trevyrzvPd3iFBvCyybgBYNxS9JOgvQ7Qht7i9VVussokj089UklQc9J6PrL1rp4BjUBI2vAi3PJ2qXReTu--PgwmhWxjQkN1_7kDl71uZIRCH1v_ZJzewZx6ODwj2gUSSFS_5dQz3TvBMwviF9sEDq3JATVvf1how-Jqz044jLn9yypNvlJq_K6QS4Ee9ErNwQ4ZiNW_YHyBJyUp8hJrN4WraEKp5qo39Eg9S4kiyjT9Of-1BAZXIsVdIP4-FuEpPkmODk_Om_1sJG8rF5ZZGj26pgW5RtxX7wS7lSqEBlxw-F4zK96Ir4WaTZKsVn991lhj2KOMGEXIAsD8LGlBrytDZ5JlrtYZoEj6LYhhvHauY-eD6E5FVjTj1V9AJQyrZog7vyCFPsUd7nB_6pHjpOY8osqqHy28_bFFAIBlEvuQqMd6z2AZKVyfLySmj7KTVUvm6EGzKqEKZ2ympY880nxhsua6luzG7GAO4_IoFRJRkFuHNKVEQUUUiDLwQ65MQ7gijrJuU3dX0uS91ckGp6_7PoObJrfLHQi5kaT-gBys_7QJR_EIrjJx19BLbVW7

https://www.plantuml.com/plantuml/svg/pLZDRsCd4B_xhq1xYHrverRgeOgYQ5qdwLgAarNid5OzO3DnK7dW0YzfjEt_NZ2J1yyy_B6LglfavcFc1_Fn1ZuPIxMjAz4x8MD1ZG53D0XgkLmHguYnDNiZlQLdaR6gjG7oZVI8-qbQmJcPMUr40sMvuKyLgmMOSpBIchxTScC3bvlHql8NfxDGIW2LfFTtBx6Ccix-HhpQBCQADKuANWMyW3WdNDhWHXghwwLL-YuHHGHJAXbrhBS6n8P1ZU4hMO6qAUoBKKE-t8Zvmt0BRxSb5rnSnkr4HTnCT31X2QIKaQ6robBnHJc1XO0frR-RiCdEGti0Kmlqreh3UKjiosVGSdO_K_CyfMlSoP1Cf8KLwCsMJiYZ0MrwT66ifajBWdTFH7yd_hyF3E66r9B_KKC8JOtqrhxMJljLQTQEuXFN1iyW9LUSCG4vNT0kQKOjt3_zmhLzTlkc0YIZEacpMGWWmdu3gcFUn3HAapdrWUHgBS026nUI_I8FosNGhBLsphVqSkclF_-saR-us6dpyf9GniPTSFe3DF2YE7Do6bRE2EWRfODO7myjxd5B0wHM0iNHwfRIj2dFp5cbNc2SRxQVRoArrTZ1mdIcbbH-qMgbmPYvkeC_xQsFKN-mNG8ZLd79VNPQXJaPyL36xk0LzxrzefU8m0n9yKXoEmXuhlPR3GHSevFi22F35ylGvs18n-6cC6VGj9XsT_CEyBJItfPhfUt7vEoqhmqAkUVpRGLs94HOcrQIXM0jGHHFXA9YTYXP-gWro7zjXe6lYYFZCrTNNYs7vCDIjXM3MOwuXDSyfwBbM2ITDPzxIPafh-WnK7sSD52BzMTcWg_xxrqHqw2D4NDdqkJTNEt7Yu4w678q4lsakUwq8oEXTxQUA7cZLVM_XPdwyK2FpDKTG0yubVyeXDx4PE_nn7wUyhzrZ9IOsr_VFv3loz2RMc3xWs7sFQ6CVVy7xMX5hBGu2_RtTV_MC8ZVWSeDVlcNo8-3stMxCpmHHUAbwC6JqFh8D2F64Gu7ON3yJ2Lpd2-WZHz0v19w8EkAt72nwNmOvD5iDldrRdfzDvzjrkFxnuVPzVJ-wl7sEg7W_uVhsUDjIt9qDPtSJMRpXz7y_Y4m9dTk-JXkrhFvuvMt7rFDOmZuif7XLNCBdjzlW3xXd-GJBYr8QmObrNUvsbXLtHoeBXHbdOxnH6yT7xJ9hXcUdkoZymg3vaT2H6ByYaSQokLvcquHksUm02T7qo6QmEhWcdpOAsuri3DxtiHUqT4BvO8k16pfe2GAjeTdZ4hNRQoCCGfbI95iDaef1Ntlxp-TZRI89OeaI28nda6aeLma89BceZV8xbf5zyXFV2CbEaO2Ik2gq-N9ZBvqrOKdP-Lj776h2ZeB9dqMs9tlHJUbhDvT4cJPeLD8jVskCQqEcYnpB_ljc_BCqfcGPOljzDitRQNMat6sQ3wHsTESTPJC4xfeFytWFCs9GLx8rod8sfGJgXNXUk6bjrtgMdP8zVDPeVFAUiH8klVAahiitXQE6qqpUSRDMj2trevyrzvPd3iFBvCyybgBYNxS9JOgvQ7Qht7i9VVussokj089UklQc9J6PrL1rp4BjUBI2vAi3PJ2qXReTu--PgwmhWxjQkN1_7kDl71uZIRCH1v_ZJzewZx6ODwj2gUSSFS_5dQz3TvBMwviF9sEDq3JATVvf1how-Jqz044jLn9yypNvlJq_K6QS4Ee9ErNwQ4ZiNW_YHyBJyUp8hJrN4WraEKp5qo39Eg9S4kiyjT9Of-1BAZXIsVdIP4-FuEpPkmODk_Om_1sJG8rF5ZZGj26pgW5RtxX7wS7lSqEBlxw-F4zK96Ir4WaTZKsVn991lhj2KOMGEXIAsD8LGlBrytDZ5JlrtYZoEj6LYhhvHauY-eD6E5FVjTj1V9AJQyrZog7vyCFPsUd7nB_6pHjpOY8osqqHy28_bFFAIBlEvuQqMd6z2AZKVyfLySmj7KTVUvm6EGzKqEKZ2ympY880nxhsua6luzG7GAO4_IoFRJRkFuHNKVEQUUUiDLwQ65MQ7gijrJuU3dX0uS91ckGp6_7PoObJrfLHQi5kaT-gBys_7QJR_EIrjJx19BLbVW7

```
@startuml
' Classes relating to study 
class Course { 
    name: String 
    courseModules: ArrayList 
    isActive: boolean 
}

class CourseModule {
    moduleCode: String
    name: String 
    level: int
    instructorName: String
    isMandatory: boolean
    assignments: ArrayList<Assignment>
    studentNames: ArrayList<String>
}

class Assignment {
    assignmentId: String
    assignmentName: String
    totalPossibleMarks: int
}

class CourseModuleResult {
    courseModule: CourseModule
    assignmentResults: HashMap<String, Integer>
}

' Users
abstract class User {
    'Username is unique 
    username: String
    password: String 
    firstName: String 
    middleName: String 
    lastName: String 
    dateOfBirth: Calendar 
}

class Student {
    year: int
    level: int 
    courseName: String
    completedCourseModules: ArrayList<CourseModuleResult>
    currentCourseModules: CourseModuleResult[8]
    <<ArrayList<CourseModuleResult>>> addCompletedCourseModule()
    <<void>> registerForCourse(String courseName)
    <<void>> enrolForCourseModule(String courseModuleCode)
    <<void>> removeCurrentCourseModule(CourseModuleResult courseModule)
    <<boolean>> canProgressToNextLevel()
}

class CourseAdministrator {
    <<void>> addNewCourse(ArrayList<Course> courses, String courseName)
    <<void>> addNewCourseModuleToCourse(ArrayList<Course> courses, Course course, String courseModuleCode, String name, int level, HashSet<String> instructorNames, boolean isMandatory, HashSet<String> assignmentIds, HashSet<String> studentNames)
    <<ArrayList<Course>>> getAllCourses()
    <<void>> cancelCourse(ArrayList<Course> allCourses, Course course)
    <<void>> reopenCourse(ArrayList<Course> allCourses, Course course)
    <<void>> deleteCourse(ArrayList<Course> courses, Course courseToDelete)
    <<void>> renameCourse(ArrayList<Course> courseModules, Course course, String newName)
    <<void>> renameCourseModule(ArrayList<CourseModule> courseModules, CourseModule courseModule, String newName)
    <<String>> createResultsSlip(Student student)
    <<void>> assignInstructorToCourseModule(ArrayList<CourseModule> allCourseModules, CourseModule courseModule, ArrayList<Instructor> instructors, Instructor instructor)
    <<void>> removeInstructorFromModule(ArrayList<CourseModule> allCourseModules, CourseModule courseModule, ArrayList<Instructor> instructors, Instructor instructor)
    <<void>> removeCourseModuleFromCourse(ArrayList<Course> courses, Course course, CourseModule courseModule)
    <<void>> removeInstructorFromCourseModule(ArrayList<CourseModule> allCourseModules, CourseModule courseModule, ArrayList<Instructor> allInstructors, Instructor instructor)
}

class Instructor {
    courseModules: String[]
    <<String[]>> getCourseModules(),
    <<boolean>> addCourseModule(String courseModuleCode)
    <<void>> removeCourseModule(String courseModuleCode)
    <<void>> createAssignment(String courseModuleCode, String assignmentName, int mark)
    <<void>> addMark(Student student, CourseModule courseModule, Assignment assignment, int mark)
    <<void>> markStudentAsCompleted(Student student, CourseModule courseModule)
}

' Handle Persistence
enum Filename {
    ASSIGNMENTS
    COURSEMODULES
    COURSES
    RESULTS
    COURSEADMINISTRATORS
    INSTRUCTORS
    STUDENTS
}

class FileHandler {
    <<void>> writeFile(Filename filename, String contents)
    <<void>> writeFile(String customFilename, String contents)
    <<void>> loadFile(Filename filename)
}

'Loaders
class AssignmentLoader {
    <<ArrayList<Assignment>>> loadAllAssignments()
    <<Assignment>> loadAssignment(String assignmentId)
}

class CourseAdministratorLoader{
    <<ArrayList<CourseAdministrator>>> loadAllCourseAdministrators()
}

class CourseLoader {
    <<ArrayList<Course>>> loadAllCourses()
    <<ArrayList<Course>>> loadAllAvailableCourses()
    <<Course>> loadCourse(String name)
}

class CourseModuleLoader {
    <<ArrayList<CourseModule>>> loadAllCourseModules
    CourseModule loadCourseModule(String courseModuleCode)
}

class InstructorLoader {
    <<ArrayList<Instructor>>> loadAllInstructors()
    <<Instructor>> loadInstructor(String username)
}

class StudentLoader {
    <<ArrayList<Student>>> loadAllStudents()
    <<Student>> loadStudent(String username)
}

'Savers
class AssignmentSaver {
    <<void>> saveAllAssignments(ArrayList<Assignment> assignments)
}

class CourseAdministratorSaver {
    <<void>> saveAllCourseAdministrators(ArrayList<CourseAdministrator> courseAdministrators)
}

class CourseModuleSaver {
    <<void>> saveAllCourseModules(ArrayList<CourseModule> courseModules)
}

class CourseSaver {
    <<void>> saveAllCourses(ArrayList<Course> courses)
}

class InstructorSaver {
    <<void>> saveAllInstructors(ArrayList<Instructor> instructors)
}

class ResultsSlipSaver {
    <<void>> saveResultsSlip(String customFilename, String resultsSlip)
}

class StudentSaver {
    <<void>> saveAllStudents(ArrayList<Student> students)
}

'Menus
class CourseAdministratorCourseModuleSubMenu {
    <<void>> runCourseModuleSubMenu()
    <<void>> addCourseModuleToCourse()
    <<void>> removeCourseModuleFromCourse
    <<void>> renameCourseModule()
    <<void>> addInstructorToCourseModule()
    <<void>> removeInstructorFromCourseModule()
    <<void>> displayCourseModuleTable
}

class CourseAdministratorMenu {
    <<void>> runCourseAdministratorMenu()
    <<void>> cancelCourse(ArrayList<Course> courses)
    <<void>> reopenCourse(ArrayList<Course> courses)
    <<void>> addCourse(ArrayList<Course> courses)
    <<void>> deleteCourse(ArrayList<Course> courses)
    <<void>> renameCourse(ArrayList<Course> courses)
    <<void>> generateResultsSlip()
}

class HomeMenu {
    <<void>> login()
} 

class InstructorMenu {
    <<void>> runInstructorMenu()
    <<void>> addMarksToStudent(ArrayList<CourseModule> courseModules)
    <<void>> createAssignment(ArrayList<CourseModule> courseModules)
    <<void>> viewAssignmentsInCourseModule(ArrayList<CourseModule> courseModules)
    <<void>> markStudentAsCompletedModule(ArrayList<CourseModule> courseModules)
}

class StudentMenu {
    <<void>> runStudentMenu()
    <<void>> registerForCourse()
    <<void>> enrolOntoCourseModule()
    <<void>> viewCurrentCourseModules()
    <<void>> viewCompletedCourseModules()
}

'**Relationships**

' User is an abstract class, and student, instructor and course administrator are children of it to get the basic info (i.e. username, password, first name, middle name, last name, date of birth)
User <|-- Student
User <|-- Instructor
User <|-- CourseAdministrator

' Assignments could be across multiple course modules, so would not be destroyed if the course module was
CourseModule o-- "0..*" Assignment

' A course module could be in multiple courses, so would not be destroyed if the course was
Course o-- "0..*" CourseModule

' Instructor relationships
Instructor o-- "0..4" CourseModule

' Student relationships
' The student has one course, or else they're not enrolled on one
Student o-- "0..1" Course
Student *-- "0..*" CourseModuleResult

' Menus
HomeMenu o-- CourseAdministratorMenu
' CourseAdministratorCourseModuleSubMenu depends on data from CourseAdministratorMenu
CourseAdministratorMenu *-- CourseAdministratorCourseModuleSubMenu 
HomeMenu o-- InstructorMenu
HomeMenu o-- StudentMenu
@enduml
```
